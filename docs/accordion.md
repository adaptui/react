# Accordion

`Accordion` component expands/collapses to show more information on clicking the
trigger button. It follows The
[WAI-ARIA Accordion Pattern](https://www.w3.org/WAI/ARIA/apg/patterns/accordion/)
for
[keyboard interaction](https://www.w3.org/WAI/ARIA/apg/patterns/accordion/#:~:text=at%20a%20time.-,Keyboard%20Interaction,-Enter)
&
[accessibiltiy properties](https://www.w3.org/WAI/ARIA/apg/patterns/accordion/#:~:text=last%20accordion%20header.-,WAI%2DARIA%20Roles%2C%20States%2C%20and%20Properties%3A,-The%20title%20of).

## Table of Contents

- [Usage](#usage)
- [Other Examples](#other-examples)
- [Composition](#composition)
- [Props](#props)
  - [`AccordionOptions`](#accordionoptions)
  - [`AccordionDisclosureOptions`](#accordiondisclosureoptions)
  - [`AccordionPanelOptions`](#accordionpaneloptions)
  - [`AccordionStateProps`](#accordionstateprops)

## Usage

```js
import * as React from "react";

import {
  Accordion,
  AccordionDisclosure,
  AccordionPanel,
  useAccordionState,
} from "@adaptui/react";

export const AccordionBasic = props => {
  const state = useAccordionState(props);

  return (
    <Accordion state={state}>
      <h2>
        <AccordionDisclosure id="Trigger 1">Trigger 1</AccordionDisclosure>
      </h2>
      <AccordionPanel id="Panel 1">Panel 1</AccordionPanel>
      <h2>
        <AccordionDisclosure id="Trigger 2">Trigger 2</AccordionDisclosure>
      </h2>
      <AccordionPanel id="Panel 2">Panel 2</AccordionPanel>
      <h2>
        <AccordionDisclosure id="Trigger 3">Trigger 3</AccordionDisclosure>
      </h2>
      <AccordionPanel id="Panel 3">Panel 3</AccordionPanel>
      <h2>
        <AccordionDisclosure id="Trigger 4">Trigger 4</AccordionDisclosure>
      </h2>
      <AccordionPanel id="Panel 4">Panel 4</AccordionPanel>
      <h2>
        <AccordionDisclosure id="Trigger 5">Trigger 5</AccordionDisclosure>
      </h2>
      <AccordionPanel id="Panel 5">Panel 5</AccordionPanel>
      <h2>
        <AccordionDisclosure id="Trigger 6">Trigger 6</AccordionDisclosure>
      </h2>
      <AccordionPanel id="Panel 6">Panel 6</AccordionPanel>
    </Accordion>
  );
};

export default AccordionBasic;
```

[![Edit CodeSandbox](https://img.shields.io/badge/Accordion-Open%20On%20CodeSandbox-%230971f1?style=for-the-badge&logo=codesandbox&labelColor=151515)](https://codesandbox.io/s/2i7s7i)
[![Edit CodeSandbox](https://img.shields.io/badge/Accordion%20TS-Open%20On%20CodeSandbox-%230971f1?style=for-the-badge&logo=codesandbox&labelColor=151515)](https://codesandbox.io/s/3lx8e2)

## Other Examples

[![Edit CodeSandbox](https://img.shields.io/badge/Accordion%20Multiple-Open%20On%20CodeSandbox-%230971f1?style=for-the-badge&logo=codesandbox&labelColor=151515)](https://codesandbox.io/s/obdq0e)
[![Edit CodeSandbox](https://img.shields.io/badge/Accordion%20Multiple%20TS-Open%20On%20CodeSandbox-%230971f1?style=for-the-badge&logo=codesandbox&labelColor=151515)](https://codesandbox.io/s/bedlw0)

[![Edit CodeSandbox](https://img.shields.io/badge/Accordion%20Styled-Open%20On%20CodeSandbox-%230971f1?style=for-the-badge&logo=codesandbox&labelColor=151515)](https://codesandbox.io/s/e0m91w)
[![Edit CodeSandbox](https://img.shields.io/badge/Accordion%20Styled%20TS-Open%20On%20CodeSandbox-%230971f1?style=for-the-badge&logo=codesandbox&labelColor=151515)](https://codesandbox.io/s/gt6ek1)

## Composition

- Accordion uses `useComposite`
- AccordionDisclosure uses `useCompositeItem`
- AccordionPanel uses `useFocusable`, `useCollectionItem`, and
  `useDisclosureContent`
- useAccordionState uses `useCompositeState`

## Props

### `AccordionOptions`

| Name        | Type                        | Description                                      |
| :---------- | :-------------------------- | :----------------------------------------------- |
| **`state`** | <code>AccordionState</code> | Object returned by the `useAccordionState` hook. |

<details><summary>CompositeOptions props</summary>
> These props are returned by the other props You can also provide these props.

| Name                         | Type                                                                                                                                                           | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| :--------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`disabled`**               | <code>boolean \| undefined</code>                                                                                                                              | Determines whether the focusable element is disabled. If the focusableelement doesn't support the native `disabled` attribute, the`aria-disabled` attribute will be used instead.                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **`autoFocus`**              | <code>boolean \| undefined</code>                                                                                                                              | Automatically focus the element when it is mounted. It works similarly tothe native `autoFocus` prop, but solves an issue where the element isgiven focus before React effects can run.                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **`focusable`**              | <code>boolean \| undefined</code>                                                                                                                              | Whether the element should be focusable.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **`accessibleWhenDisabled`** | <code>boolean \| undefined</code>                                                                                                                              | Determines whether the element should be focusable even when it isdisabled.This is important when discoverability is a concern. For example:> A toolbar in an editor contains a set of special smart paste functionsthat are disabled when the clipboard is empty or when the function is notapplicable to the current content of the clipboard. It could be helpful tokeep the disabled buttons focusable if the ability to discover theirfunctionality is primarily via their presence on the toolbar.Learn more on [Focusability of disabledcontrols](https://www.w3.org/TR/wai-aria-practices-1.2/#kbd_disabled_controls). |
| **`onFocusVisible`**         | <code title="((event: SyntheticEvent&#60;Element, Event&#62;) =&#62; void) \| undefined">((event: SyntheticEvent&#60;Element, Event&#62;) =&#62; voi...</code> | Custom event handler that is called when the element is focused via thekeyboard or when a key is pressed while the element is focused.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **`composite`**              | <code>boolean \| undefined</code>                                                                                                                              | Whether the component should behave as a composite widget. This prop shouldbe set to `false` when combining different composite widgets where only oneshould behave as such.                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **`focusOnMove`**            | <code>boolean \| undefined</code>                                                                                                                              | Whether the active composite item should receive focus when`composite.move` is called.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

</details>

### `AccordionDisclosureOptions`

| Name        | Type                                     | Description                                                                                                               |
| :---------- | :--------------------------------------- | :------------------------------------------------------------------------------------------------------------------------ |
| **`state`** | <code>AccordionState \| undefined</code> | Object returned by the `useAccordionState` hook. If not provided, the parent`Accordion` component's context will be used. |

<details><summary>CompositeItemOptions props</summary>
> These props are returned by the other props You can also provide these props.

| Name                         | Type                                                                                                                                                                | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| :--------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`disabled`**               | <code>boolean \| undefined</code>                                                                                                                                   | Determines whether the focusable element is disabled. If the focusableelement doesn't support the native `disabled` attribute, the`aria-disabled` attribute will be used instead.                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **`autoFocus`**              | <code>boolean \| undefined</code>                                                                                                                                   | Automatically focus the element when it is mounted. It works similarly tothe native `autoFocus` prop, but solves an issue where the element isgiven focus before React effects can run.                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **`focusable`**              | <code>boolean \| undefined</code>                                                                                                                                   | Whether the element should be focusable.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **`accessibleWhenDisabled`** | <code>boolean \| undefined</code>                                                                                                                                   | Determines whether the element should be focusable even when it isdisabled.This is important when discoverability is a concern. For example:> A toolbar in an editor contains a set of special smart paste functionsthat are disabled when the clipboard is empty or when the function is notapplicable to the current content of the clipboard. It could be helpful tokeep the disabled buttons focusable if the ability to discover theirfunctionality is primarily via their presence on the toolbar.Learn more on [Focusability of disabledcontrols](https://www.w3.org/TR/wai-aria-practices-1.2/#kbd_disabled_controls). |
| **`onFocusVisible`**         | <code title="((event: SyntheticEvent&#60;Element, Event&#62;) =&#62; void) \| undefined">((event: SyntheticEvent&#60;Element, Event&#62;) =&#62; voi...</code>      | Custom event handler that is called when the element is focused via thekeyboard or when a key is pressed while the element is focused.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **`shouldRegisterItem`**     | <code>boolean \| undefined</code>                                                                                                                                   | Whether the item should be registered to the state.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **`getItem`**                | <code>((props: Item) =&#62; Item) \| undefined</code>                                                                                                               | A memoized function that returns props that will be passed along with theitem when it gets registered to the state.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **`clickOnEnter`**           | <code>boolean \| undefined</code>                                                                                                                                   | If true, pressing the enter key will trigger a click on the button.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **`clickOnSpace`**           | <code>boolean \| undefined</code>                                                                                                                                   | If true, pressing the space key will trigger a click on the button.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **`rowId`**                  | <code>string \| undefined</code>                                                                                                                                    | The id that will be used to group items in the same row. This isusually retrieved by the `CompositeRow` component through context so inmost cases you don't need to set it manually.                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **`preventScrollOnKeyDown`** | <code title="BooleanOrCallback&#60;KeyboardEvent&#60;HTMLElement&#62;&#62; \| undefined">BooleanOrCallback&#60;KeyboardEvent&#60;HTMLElement&#62;&#62; \|...</code> | Whether the scroll behavior should be prevented when pressing arrow keyson the first or the last items.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |

</details>

### `AccordionPanelOptions`

| Name              | Type                                     | Description                                                                                                                                   |
| :---------------- | :--------------------------------------- | :-------------------------------------------------------------------------------------------------------------------------------------------- |
| **`state`**       | <code>AccordionState \| undefined</code> | Object returned by the `useAccordionState` hook.                                                                                              |
| **`accordionId`** | <code>string \| null \| undefined</code> | The id of the accordion that controls this panel. By default, this value willbe inferred based on the order of the accordions and the panels. |

<details><summary>FocusableOptions props</summary>
> These props are returned by the other props You can also provide these props.

| Name                         | Type                                                                                                                                                           | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| :--------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **`disabled`**               | <code>boolean \| undefined</code>                                                                                                                              | Determines whether the focusable element is disabled. If the focusableelement doesn't support the native `disabled` attribute, the`aria-disabled` attribute will be used instead.                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **`autoFocus`**              | <code>boolean \| undefined</code>                                                                                                                              | Automatically focus the element when it is mounted. It works similarly tothe native `autoFocus` prop, but solves an issue where the element isgiven focus before React effects can run.                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **`focusable`**              | <code>boolean \| undefined</code>                                                                                                                              | Whether the element should be focusable.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| **`accessibleWhenDisabled`** | <code>boolean \| undefined</code>                                                                                                                              | Determines whether the element should be focusable even when it isdisabled.This is important when discoverability is a concern. For example:> A toolbar in an editor contains a set of special smart paste functionsthat are disabled when the clipboard is empty or when the function is notapplicable to the current content of the clipboard. It could be helpful tokeep the disabled buttons focusable if the ability to discover theirfunctionality is primarily via their presence on the toolbar.Learn more on [Focusability of disabledcontrols](https://www.w3.org/TR/wai-aria-practices-1.2/#kbd_disabled_controls). |
| **`onFocusVisible`**         | <code title="((event: SyntheticEvent&#60;Element, Event&#62;) =&#62; void) \| undefined">((event: SyntheticEvent&#60;Element, Event&#62;) =&#62; voi...</code> | Custom event handler that is called when the element is focused via thekeyboard or when a key is pressed while the element is focused.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

</details>

<details><summary>CollectionItemOptions props</summary>
> These props are returned by the other props You can also provide these props.

| Name                     | Type                                                  | Description                                                                                                         |
| :----------------------- | :---------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------ |
| **`shouldRegisterItem`** | <code>boolean \| undefined</code>                     | Whether the item should be registered to the state.                                                                 |
| **`getItem`**            | <code>((props: Item) =&#62; Item) \| undefined</code> | A memoized function that returns props that will be passed along with theitem when it gets registered to the state. |

</details>

<details><summary>DisclosureContentOptions props</summary>
> These props are returned by the other props You can also provide these props.

| Name | Type | Description |
| :--- | :--- | :---------- |

</details>

### `AccordionStateProps`

| Name                      | Type                                                                                                                                                        | Description                                                                                                                                    |
| :------------------------ | :---------------------------------------------------------------------------------------------------------------------------------------------------------- | :--------------------------------------------------------------------------------------------------------------------------------------------- |
| **`selectedId`**          | <code>string \| string[] \| null \| undefined</code>                                                                                                        | The id of the accordion whose panel is currently visible.                                                                                      |
| **`selectOnMove`**        | <code>boolean \| undefined</code>                                                                                                                           | Whether the accordion should be selected when it receives focus. If it's set to`false`, the accordion will be selected only when it's clicked. |
| **`shouldSelectFirstId`** | <code>boolean \| undefined</code>                                                                                                                           | Whether the first accordion should be selected by default. If it's set to `false`,the accordion will be selected only when it's clicked.       |
| **`allowToggle`**         | <code>boolean</code>                                                                                                                                        | Whether the accordion panels can be toggled on click. If it's set to`false`, the panels cannot be closed on the next click.                    |
| **`allowMultiple`**       | <code>boolean</code>                                                                                                                                        | Whether multiple accordion panels can be viewed at once. If it's set to`false`, the accordion will only allow one panel to be viewed at once.  |
| **`defaultSelectedId`**   | <code>string \| string[] \| null \| undefined</code>                                                                                                        | The id of the accordion whose panel should be initially visible.                                                                               |
| **`setSelectedId`**       | <code title="((selectedId: string \| string[] \| null \| undefined) =&#62; void) \| undefined">((selectedId: string \| string[] \| null \| undefi...</code> | Function that will be called when setting the accordion `selectedId` state.                                                                    |

<details><summary>CompositeStateProps props</summary>
> These props are returned by the other props You can also provide these props.

| Name                      | Type                                                                                                                                             | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| :------------------------ | :----------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| **`items`**               | <code>T[]</code>                                                                                                                                 | Lists all the items with their `ref`s. This state is automatically updatedwhen an item is registered or unregistered with the `registerItem`function. The order of the items is automatically defined by the order ofthe elements in the DOM.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **`setItems`**            | <code>((items: T[]) =&#62; void) \| undefined</code>                                                                                             | Function that will be called when setting the collection `items` state.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **`virtualFocus`**        | <code>boolean</code>                                                                                                                             | If enabled, the composite element will act as an[aria-activedescendant](https://www.w3.org/TR/wai-aria-practices-1.1/#kbd_focus_activedescendant)container instead of [rovingtabindex](https://www.w3.org/TR/wai-aria-practices/#kbd_roving_tabindex).DOM focus will remain on the composite while its items receive virtualfocus.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **`orientation`**         | <code>Orientation</code>                                                                                                                         | Defines the orientation of the composite widget. If the composite has asingle row or column (one-dimensional), the `orientation` value determineswhich arrow keys can be used to move focus: - `both`: all arrow keys work. - `horizontal`: only left and right arrow keys work. - `vertical`: only up and down arrow keys work.It doesn't have any effect on two-dimensional composites.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| **`rtl`**                 | <code>boolean</code>                                                                                                                             | Determines how the `next` and `previous` functions will behave. If `rtl` isset to `true`, they will be inverted. This only affects the compositewidget behavior. You still need to set `dir="rtl"` on HTML/CSS.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **`focusLoop`**           | <code>boolean \| Orientation</code>                                                                                                              | On one-dimensional composites: - `true` loops from the last item to the first item and vice-versa. - `horizontal` loops only if `orientation` is `horizontal` or not set. - `vertical` loops only if `orientation` is `vertical` or not set. - If `activeId` is initially set to `null`, the composite element will be focused in between the last and first items.On two-dimensional composites: - `true` loops from the last row/column item to the first item in the same row/column and vice-versa. If it's the last item in the last row, it moves to the first item in the first row and vice-versa. - `horizontal` loops only from the last row item to the first item in the same row. - `vertical` loops only from the last column item to the first item in the column row. - If `activeId` is initially set to `null`, vertical loop will have no effect as moving down from the last row or up from the first row will focus the composite element. - If `focusWrap` matches the value of `focusLoop`, it'll wrap between the last item in the last row or column and the first item in the first row or column and vice-versa. |
| **`focusWrap`**           | <code>boolean \| Orientation</code>                                                                                                              | **Has effect only on two-dimensional composites**. If enabled, moving tothe next item from the last one in a row or column will focus the firstitem in the next row or column and vice-versa. - `true` wraps between rows and columns. - `horizontal` wraps only between rows. - `vertical` wraps only between columns. - If `focusLoop` matches the value of `focusWrap`, it'll wrap between the lastitem in the last row or column and the first item in the first row orcolumn and vice-versa.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **`focusShift`**          | <code>boolean</code>                                                                                                                             | **Has effect only on two-dimensional composites**. If enabled, moving upor down when there's no next item or the next item is disabled will shiftto the item right before it.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **`moves`**               | <code>number</code>                                                                                                                              | The number of times the `move` function has been called.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **`includesBaseElement`** | <code>boolean</code>                                                                                                                             | Indicates whether the `Composite` element should be included in the focusorder.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| **`activeId`**            | <code>string \| null \| undefined</code>                                                                                                         | The current focused item `id`. - `undefined` will automatically focus the first enabled composite item. - `null` will focus the base composite element and users will be able to navigate out of it using arrow keys. - If `activeId` is initially set to `null`, the base composite element itself will have focus and users will be able to navigate to it using arrow keys.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **`defaultActiveId`**     | <code>string \| null \| undefined</code>                                                                                                         | The composite item id that should be focused when the composite isinitialized.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **`setMoves`**            | <code>((moves: number) =&#62; void) \| undefined</code>                                                                                          | Function that will be called when setting the composite `moves` state.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| **`setActiveId`**         | <code title="((activeId: string \| null \| undefined) =&#62; void) \| undefined">((activeId: string \| null \| undefined) =&#62; void)...</code> | Function that will be called when setting the composite `activeId`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |

</details>
