!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).AriakitUtils={},e.React)}(this,(function(e,t){"use strict";function n(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=n(t);function o(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}const u="undefined"!=typeof window&&!(null==(i=window.document)||!i.createElement);var i;function c(e){return e?e.ownerDocument||e:document}function s(e,t){void 0===t&&(t=!1);const{activeElement:n}=c(e);if(null==n||!n.nodeName)return null;if(f(n)&&n.contentDocument)return s(n.contentDocument.body,t);if(t){const e=n.getAttribute("aria-activedescendant");if(e){const t=c(n).getElementById(e);if(t)return t}}return n}function a(e,t){return e===t||e.contains(t)}function f(e){return"IFRAME"===e.tagName}const l=["button","color","file","image","reset","submit"];function d(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}function b(e){const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}function p(e,t){if("closest"in e)return e.closest(t);do{if(d(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null}function m(e){try{const t=e instanceof HTMLInputElement&&null!==e.selectionStart,n="TEXTAREA"===e.tagName;return t||n||!1}catch(e){return!1}}const v=["dialog","menu","listbox","tree","grid"];function g(e){if(!e)return null;if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:t}=getComputedStyle(e);if("visible"!==t&&"hidden"!==t)return e}return g(e.parentElement)||document.scrollingElement||document.body}function y(e){const t=e.getBoundingClientRect(),n=g(e);if(!n)return!1;const r=n.getBoundingClientRect(),o="HTML"===n.tagName,u=o?r.top+n.scrollTop:r.top,i=o?n.clientHeight:r.bottom,c=o?r.left+n.scrollLeft:r.left,s=o?n.clientWidth:r.right,a=t.top<u,f=t.left<c,l=t.bottom>i,d=t.right>s;return a||f||l||d}const h="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function E(e){return d(e,h)&&b(e)}function w(e){return E(e)&&!function(e){return parseInt(e.getAttribute("tabindex")||"0",10)<0}(e)}function S(e,t){const n=Array.from(e.querySelectorAll(h));t&&n.unshift(e);const r=n.filter(E);return r.forEach(((e,t)=>{if(f(e)&&e.contentDocument){const n=e.contentDocument.body;r.splice(t,1,...S(n))}})),r}function x(e,t){const[n]=S(e,t);return n||null}function A(e,t,n){const r=Array.from(e.querySelectorAll(h)),o=r.filter(w);return t&&w(e)&&o.unshift(e),o.forEach(((e,t)=>{if(f(e)&&e.contentDocument){const r=A(e.contentDocument.body,!1,n);o.splice(t,1,...r)}})),!o.length&&n?r:o}function O(e,t,n){const[r]=A(e,t,n);return r||null}function j(e,t,n){const r=A(e,t,n);return r[r.length-1]||null}function C(e,t,n,r){const o=s(e),u=S(e,t),i=u.indexOf(o),c=u.slice(i+1);return c.find(w)||(n?u.find(w):null)||(r?c[0]:null)||null}function F(e,t,n,r){const o=s(e),u=S(e,t).reverse(),i=u.indexOf(o),c=u.slice(i+1);return c.find(w)||(n?u.find(w):null)||(r?c[0]:null)||null}function T(e){const t=s(e);if(!t)return!1;if(t===e)return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&n===e.id}function P(e){const t=s(e);if(!t)return!1;if(a(e,t))return!0;const n=t.getAttribute("aria-activedescendant");return!!n&&("id"in e&&(n===e.id||!!e.querySelector("#"+CSS.escape(n))))}function I(e){var t;const n=null!=(t=e.getAttribute("tabindex"))?t:"";e.setAttribute("data-tabindex",n),e.setAttribute("tabindex","-1")}function R(e,t){if(e===t)return!0;if(!e)return!1;if(!t)return!1;if("object"!=typeof e)return!1;if("object"!=typeof t)return!1;const n=Object.keys(e),r=Object.keys(t),{length:o}=n;if(r.length!==o)return!1;for(const r of n)if(e[r]!==t[r])return!1;return!0}function k(e,t){if(function(e){return"function"==typeof e}(e)){return e(function(e){return"function"==typeof e}(t)?t():t)}return e}function N(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function L(e){return"object"==typeof e&&null!=e}function D(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const M="function"==typeof t.useId?t.useId:void 0,_="function"==typeof t.useDeferredValue?t.useDeferredValue:void 0,q=u?t.useLayoutEffect:t.useEffect;function B(e){const[n]=t.useState(e);return n}function H(e){const n=t.useRef();return void 0===n.current&&(n.current=e()),n.current}function V(e){const n=t.useRef(e);return q((()=>{n.current=e})),n}function U(e){const n=t.useRef((()=>{throw new Error("Cannot call an event handler while rendering.")}));return q((()=>{n.current=e})),t.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return null==n.current?void 0:n.current(...t)}),[])}function W(e){if("string"==typeof e)return e}const z=Symbol("setNextState");function K(e){return!0===e[z]}function Y(e,n,r){void 0===r&&(r=[]);const o=t.useCallback((t=>(e.wrapElement&&(t=e.wrapElement(t)),n(t))),[...r,e.wrapElement]);return{...e,wrapElement:o}}function $(){return u&&!!navigator.maxTouchPoints}function G(){return!!u&&/mac|iphone|ipad|ipod/i.test(navigator.platform)}var X={exports:{}},J={};Object.getOwnPropertySymbols,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;!function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()||Object.assign;
/** @license React vundefined
   * react-jsx-runtime.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */
var Q=r.default,Z=60103;if(J.Fragment=60107,"function"==typeof Symbol&&Symbol.for){var ee=Symbol.for;Z=ee("react.element"),J.Fragment=ee("react.fragment")}var te=Object.prototype.hasOwnProperty,ne=Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,re={key:!0,ref:!0,__self:!0,__source:!0};function oe(e,t,n){var r,o={},u=null,i=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(i=t.ref),t)te.call(t,r)&&!re.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:Z,type:e,key:u,ref:i,props:o,_owner:ne.current}}function ue(e){const n=(t,n)=>e({ref:n,...t});return t.forwardRef(n)}J.jsx=oe,J.jsxs=oe,X.exports=J;const ie=Symbol("getState"),ce=Symbol("subscribe"),se=Symbol("timestamp"),ae=Symbol("initialContext");function fe(e){return!!e&&!!e[ce]}function le(e,t){void 0===t&&(t=e),Object.defineProperty(e,ie,{value:()=>t,writable:!0})}function de(e){return e&&ae in e}function be(e){if(!de(e))return;return e[ae]}const pe=t.createContext(void 0);e.addGlobalEventListener=function e(t,n,r,o){void 0===o&&(o=window);try{o.document.addEventListener(t,n,r)}catch(e){}const u=[];for(let i=0;i<o.frames.length;i+=1){const c=o.frames[i];c&&u.push(e(t,n,r,c))}return()=>{try{o.document.removeEventListener(t,n,r)}catch(e){}u.forEach((e=>e()))}},e.addItemToArray=function(e,t,n){return void 0===n&&(n=-1),n in e?[...e.slice(0,n),t,...e.slice(n)]:[...e,t]},e.applyState=k,e.canUseDOM=u,e.chain=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(const e of t)"function"==typeof e&&e(...arguments)}},e.closest=p,e.contains=a,e.createComponent=ue,e.createElement=function(e,t){const{as:n,wrapElement:r,...o}=t;let u;if(n&&"string"!=typeof n)u=X.exports.jsx(n,{...o});else if("function"==typeof t.children){const{children:e,...n}=o;u=t.children(n)}else u=n?X.exports.jsx(n,{...o}):X.exports.jsx(e,{...o});return r?r(u):u},e.createHook=function(e){return function(t){void 0===t&&(t={});const n=e(t),r={};for(const e in n)D(n,e)&&void 0!==n[e]&&(r[e]=n[e]);return r}},e.createMemoComponent=function(e,n){void 0===n&&(n=R);const r=ue(e);return t.memo(r,((e,t)=>{const{state:r,...o}=e,{state:u,...i}=t;return u&&fe(u)?n(o,i):n(e,t)}))},e.createStoreContext=function(){const e=t.createContext(void 0);return function(e){const n=t.createContext(void 0);Object.defineProperty(e,ae,{value:n})}(e),e},e.cx=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")||void 0},e.disableFocus=I,e.disableFocusIn=function(e,t){A(e,t).forEach(I)},e.ensureFocus=function(e,t){let{preventScroll:n,isActive:r=T}=void 0===t?{}:t;return r(e)?-1:(e.focus({preventScroll:n}),r(e)?-1:requestAnimationFrame((()=>{e.focus({preventScroll:n})})))},e.fireBlurEvent=function(e,t){const n=new FocusEvent("blur",t),r=e.dispatchEvent(n),o={...t,bubbles:!0};return e.dispatchEvent(new FocusEvent("focusout",o)),r},e.fireClickEvent=function(e,t){const n="undefined"!=typeof PointerEvent?new PointerEvent("click",t):new MouseEvent("click",t);return e.dispatchEvent(n)},e.fireEvent=function(e,t,n){const r=new Event(t,n);return e.dispatchEvent(r)},e.fireKeyboardEvent=function(e,t,n){const r=new KeyboardEvent(t,n);return e.dispatchEvent(r)},e.flatten2DArray=function(e){const t=[];for(const n of e)t.push(...n);return t},e.focusIfNeeded=function(e){!P(e)&&E(e)&&e.focus()},e.getActiveElement=s,e.getAllFocusable=function(e){return S(document.body,e)},e.getAllFocusableIn=S,e.getAllTabbable=function(e){return A(document.body,!1,e)},e.getAllTabbableIn=A,e.getClosestFocusable=function(e){for(;e&&!E(e);)e=p(e,h);return e||null},e.getDocument=c,e.getFirstFocusable=function(e){return x(document.body,e)},e.getFirstFocusableIn=x,e.getFirstTabbable=function(e){return O(document.body,!1,e)},e.getFirstTabbableIn=O,e.getLastTabbable=function(e){return j(document.body,!1,e)},e.getLastTabbableIn=j,e.getNextTabbable=function(e,t){return C(document.body,!1,e,t)},e.getNextTabbableIn=C,e.getPopupRole=function(e,t){const n=null==e?void 0:e.getAttribute("role");return n&&-1!==v.indexOf(n)?n:t},e.getPreviousTabbable=function(e,t){return F(document.body,!1,e,t)},e.getPreviousTabbableIn=F,e.getScrollingElement=g,e.getTextboxSelection=function(e){let t=0,n=0;if(m(e))t=e.selectionStart||0,n=e.selectionEnd||0;else if(e.isContentEditable){const r=c(e).getSelection();if(null!=r&&r.rangeCount&&r.anchorNode&&a(e,r.anchorNode)&&r.focusNode&&a(e,r.focusNode)){const o=r.getRangeAt(0),u=o.cloneRange();u.selectNodeContents(e),u.setEnd(o.startContainer,o.startOffset),t=u.toString().length,u.setEnd(o.endContainer,o.endOffset),n=u.toString().length}}return{start:t,end:n}},e.getWindow=function(e){return c(e).defaultView||window},e.hasFocus=T,e.hasFocusWithin=P,e.hasOwnProperty=D,e.isApple=G,e.isButton=function(e){const t=e.tagName.toLowerCase();return"button"===t||!("input"!==t||!e.type)&&-1!==l.indexOf(e.type)},e.isEmpty=function(e){return Array.isArray(e)?!e.length:L(e)?!Object.keys(e).length:null==e||""===e},e.isFirefox=function(){return u&&/firefox\//i.test(navigator.userAgent)},e.isFocusEventOutside=function(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!a(n,r)},e.isFocusable=E,e.isFrame=f,e.isInteger=function(e){return"number"==typeof e?Math.floor(e)===e:String(Math.floor(Number(e)))===e},e.isMac=function(){return u&&navigator.platform.startsWith("Mac")&&!$()},e.isObject=L,e.isPartiallyHidden=y,e.isPortalEvent=function(e){return!a(e.currentTarget,e.target)},e.isPromise=function(e){return Boolean(e&&"then"in e&&"function"==typeof e.then)},e.isSafari=function(){return u&&G()&&/apple/i.test(navigator.vendor)},e.isSelfTarget=function(e){return e.target===e.currentTarget},e.isTabbable=w,e.isTextField=m,e.isTouchDevice=$,e.isVisible=b,e.matches=d,e.noop=function(){},e.normalizeString=function(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")},e.queueBeforeEvent=function(e,t,n){const r=requestAnimationFrame((()=>{e.removeEventListener(t,o,!0),n()})),o=()=>{cancelAnimationFrame(r),n()};return e.addEventListener(t,o,{once:!0,capture:!0}),r},e.queueMicrotask=function(e){if(window.queueMicrotask)return window.queueMicrotask(e);Promise.resolve().then(e)},e.restoreFocusIn=function(e){const t=e.querySelectorAll("[data-tabindex]"),n=e=>{const t=e.getAttribute("data-tabindex");e.removeAttribute("data-tabindex"),t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")};e.hasAttribute("data-tabindex")&&n(e),t.forEach(n)},e.reverseArray=function(e){return e.slice().reverse()},e.scrollIntoViewIfNeeded=function(e,t){y(e)&&"scrollIntoView"in e&&e.scrollIntoView(t)},e.setRef=N,e.shallowEqual=R,e.toArray=o,e.useBooleanEventCallback=function(e){return U("function"==typeof e?e:()=>e)},e.useControlledState=function(e,n,r){const[o,u]=t.useState(e),i=void 0!==n?n:o,c=V(n),s=V(r),a=V(i),f=t.useCallback((e=>{const t=s.current;if(t)if(K(t))t(e);else{const n=k(e,a.current);a.current=n,t(n)}void 0===c.current&&u(e)}),[]);var l;return K(l=f)||Object.defineProperty(l,z,{value:!0}),[i,f]},e.useDeferredValue=function(e){if(_)return _(e);const[n,r]=t.useState(e);return t.useEffect((()=>{const t=requestAnimationFrame((()=>{r(e)}));return()=>cancelAnimationFrame(t)}),[e]),n},e.useEventCallback=U,e.useForceUpdate=function(){return t.useReducer((()=>({})),{})},e.useForkRef=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useMemo((()=>{if(n.some(Boolean))return e=>{n.forEach((t=>{N(t,e)}))}}),n)},e.useId=function(e){if(M){const t=M();return e||t}const[n,r]=t.useState(e);return q((()=>{if(e||n)return;const t=Math.random().toString(36).substr(2,6);r("id-"+t)}),[e,n]),e||n},e.useInitialValue=B,e.useLazyRef=H,e.useLiveRef=V,e.useRefId=function(e,n){const[r,o]=t.useState(void 0);return q((()=>{var t;o(null==e||null==(t=e.current)?void 0:t.id)}),n),r},e.useSafeLayoutEffect=q,e.useStore=function(e,n){const r=t.useContext(function(e,t){if(!de(e))return pe;if(t)return be(e);return e}(e,n)),u=de(e)?r:e,[i,c]=t.useState((()=>function(e){if(!e)return e;const t=e[ie];return t?t():e}(u))),s=fe(u)&&fe(i)?(a=i,(f=u)?a?se in f?se in a&&a[se]>=f[se]?a:f:a:f:a):u;var a,f;const l=function(e){if(e)return e[ce]}(u),d=t.useRef(null),b=o(n),p=!n;return q((()=>{if(l&&c){if(p)return l(c);if(b.length)return l((e=>{const t=d.current;d.current=e;b.some((n=>{if("function"==typeof n){const r=n(e);return"boolean"==typeof r?r||t&&n(t):t?r!==n(t):r}const r=n;return(null==t?void 0:t[r])!==e[r]}))&&c(e)}))}}),[l,c,p,...b]),s},e.useStoreProvider=function(e,t){let{state:n,...r}=e;const o=B(n),u=n&&fe(n)?o:n;le(u,n);const i=be(t);return r=Y(r,(e=>(u&&i&&(e=X.exports.jsx(i.Provider,{value:u,children:e})),n&&(e=X.exports.jsx(t.Provider,{value:n,children:e})),e)),[u,i,n,t]),r},e.useStorePublisher=function(e){const n=H((()=>new Set));q((()=>{!function(e){Object.defineProperty(e,se,{value:Date.now(),writable:!0})}(e);for(const t of n)t(e)}),[e]);const r=t.useCallback((e=>(n.add(e),()=>n.delete(e))),[]);return function(e,t){ce in e||Object.defineProperty(e,ce,{value:t})}(e,r),le(e),function(e){se in e||Object.defineProperty(e,se,{value:Date.now(),writable:!0})}(e),e},e.useTagName=function(e,n){const[r,o]=t.useState((()=>W(n)));return q((()=>{var t;o((null==e||null==(t=e.current)?void 0:t.tagName.toLowerCase())||W(n))}),[e,n]),r},e.useUpdateEffect=function(e,n){const r=t.useRef(!1);t.useEffect((()=>{if(r.current)return e();r.current=!0}),n)},e.useUpdateLayoutEffect=function(e,n){const r=t.useRef(!1);q((()=>{if(r.current)return e();r.current=!0}),n)},e.useWrapElement=Y,Object.defineProperty(e,"__esModule",{value:!0})}));
